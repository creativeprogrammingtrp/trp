<link type="text/css" media="screen" rel="stylesheet" href="../colorbox/theme3/colorbox.css" />
<script language="javascript" type="text/javascript" src="misc/colorbox/jquery.colorbox.js"></script>
<style type="text/css">
    .block-data{
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left:10px;
        height:100px;
        margin-left:110px;
        border:1px solid #DDD;
        width:310px;
        background: #FBFBFB; 
    }

    .title{
        font-size:14px;
        color:#666;
        line-height:14px;	
        margin-top:10px;
        text-shadow:0 1px 0 #FFFFFF;
        width:200px;
        float:left;
    }
    .result{
        font-size:15px;
        color:#666;
        line-height:14px;	
        margin-top:10px;
        text-shadow:0 1px 0 #FFFFFF;
        width:70px;
        float:left;
        margin-left: 30px;
        font-weight:bold;
    }
    .tabbed_area {
        width:100%;
        clear:both; 
        overflow:hidden; 
        margin-top:20px;
        float:left;
        padding:8px;
    }

    ul.tabs {
        margin-top:5px;
        margin-bottom:6px;
        padding: 8px 1px;/*8px 1px*/
        border-bottom: 1px solid #ddd;
        position: relative;
        margin-left:18px;
        outline: none;
    }
    ul.tabs li {
        list-style:none;
        display:inline;
    }
    ul.tabs li a {
        background:#eee;
        color:#000;
        padding:8px 25px;
        text-decoration:none;
        font-size:11px;
        font-family:Verdana, Arial, Helvetica, sans-serif;
        font-weight:bold;
        text-transform:uppercase;
        border:1px solid #CCCCCC;
        border-bottom: none;
        background-repeat:repeat-x;	 
        background-position:bottom;
        border-radius:5px 5px 0px 0px;
        position: relative;
        top:2px;  
    }
    ul.tabs li a:hover {
        border-color:#2f343a;
    }

    .content {
        background-color:#ffffff;
        padding:10px;	
        background-repeat:repeat-x;	 
        background-position:bottom;
    }

    .content ul {
        margin:0px;
        padding:0px 0px 0px 8px;/*0px 20px 0px 20px*/
    }
    .content ul li {
        list-style:none;
        border-bottom:1px solid #d6dde0;
        padding-top:15px;
        padding-bottom:15px;
        font-size:13px;
    }
    .content ul li:last-child {
        border-bottom:none;
    }
    .content ul li a {
        text-decoration:none;
    }
    .content ul li a:hover {
        color:#a59c83;
    }
    .content{
        display:none;
    }
	#content_2 ul li, #content_1 ul li
	{
		border-bottom: none;
	}
    .leftNav{
        list-style: none;
        display: block;
		padding-top: 13px !important;
    }
    div .leftNav li{
        background: linear-gradient(to bottom, #FDFDFD 0%, #EFEFEF 100%) repeat scroll 0 0 transparent;
        border: 1px solid #D3D3D3 !important; 
        cursor: pointer;
        margin: 0px 2px 5px 0px;
        padding: 22px 20px 23px !important;
        position: relative;
    }
    strong{
        font-size: 16px;
    }
    .title_asc{
        background: linear-gradient(to bottom, #FDFDFD 0%, #EFEFEF 100%) repeat scroll 0 0 transparent;
        padding: 10px;
    }
    small{
        font-size: 12px;

    }
	thead tr .td-row{
		background: #fdfdfd; /* Old browsers */
		background: -moz-linear-gradient(top,  #fdfdfd 0%, #efefef 100%); /* FF3.6+ */
		background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#fdfdfd), color-stop(100%,#efefef)); /* Chrome,Safari4+ */
		background: -webkit-linear-gradient(top,  #fdfdfd 0%,#efefef 100%); /* Chrome10+,Safari5.1+ */
		background: -o-linear-gradient(top,  #fdfdfd 0%,#efefef 100%); /* Opera 11.10+ */
		background: -ms-linear-gradient(top,  #fdfdfd 0%,#efefef 100%); /* IE10+ */
		background: linear-gradient(to bottom,  #fdfdfd 0%,#efefef 100%); /* W3C */
		filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#f1f1f1', endColorstr='#f1f1f1',GradientType=0 ); /* IE6-9 */
	}
	.td-row {
		padding-bottom: 5px;
		padding-top: 5px;
		padding-left: 3px;
		padding-right: 3px;
		border-bottom: 1px solid #d3d3d3;
	}
	.title_asc
	{
		background: #fdfdfd; /* Old browsers */
		background: -moz-linear-gradient(top,  #fdfdfd 0%, #efefef 100%); /* FF3.6+ */
		background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#fdfdfd), color-stop(100%,#efefef)); /* Chrome,Safari4+ */
		background: -webkit-linear-gradient(top,  #fdfdfd 0%,#efefef 100%); /* Chrome10+,Safari5.1+ */
		background: -o-linear-gradient(top,  #fdfdfd 0%,#efefef 100%); /* Opera 11.10+ */
		background: -ms-linear-gradient(top,  #fdfdfd 0%,#efefef 100%); /* IE10+ */
		background: linear-gradient(to bottom,  #fdfdfd 0%,#efefef 100%); /* W3C */
		filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#f1f1f1', endColorstr='#f1f1f1',GradientType=0 ); /* IE6-9 */
	}
</style>
<div style="clear:both; width:100%; overflow:hidden">
    <div style="clear:both; width:100%; overflow:hidden">
        {export_perm}

        <div style="width:100%; clear:both; overflow:hidden; margin-top:20px; float:left">
            <table cellpadding="0" cellspacing="0" border="0" width="100%">
                <tr>
                    <td width="15%" >
                       <!-- <div class="block-data">
                            <div class="contain">
                                <div class="title">Pending Account Amount:</div>
                                <div class="result" style="color:#09F">{pending}</div>
                            </div>
                            <div class="contain">
                                <div class="title">Settlement Account Amount:</div>
                                <div class="result" style="color:#6F13CC">{settlement}</div>
                            </div>
                            <div class="contain">
                                <div class="title">PaidOut Amount:</div>
                                <div class="result" style ="color:#00A651">{total_paid}</div>
                            </div>
                            <div class="contain">
                                <div class="title">Balance Amount:</div>
                                <div class="result" style ="color:#AD5A07">{balance}</div>
                            </div>
                        </div>-->
 
                       <div style="width:100%; clear:both; overflow:hidden; float:left; margin-top:0px;">
                            <span style="float:left; clear:both; font-weight:bold; text-shadow:0px 1px 1px #999; height:30px;">&nbsp;&nbsp;Informations</span>
                            <table cellpadding="0" cellspacing="0" border="0" width="100%">
                                <tr>
                                    <td align="left" valign="middle" width="105px"><img src="../images/Dashboard_hinhgi.jpg" border="0" /></td>
                                    <td align="left" valign="top">
                                        <div style="clear:both; font-weight:bold;">{legal_business_name}</div>
                                        <div style="clear:both; padding-top:2px;">
                                            <span style="float:left; text-align:left; font-weight:bold">ID#:</span>
                                            <span style="float:left; padding-left:10px">{legal_business_id}</span>
                                        </div>
                                        <div style="clear:both; padding-top:2px">
                                            <span style="float:left; text-align:left; font-weight:bold">Address:</span>
                                            <span style="float:left; padding-left:10px">{Address}</span>
                                        </div>
                                        <div style="clear:both; padding-top:10px">
                                            <span style="float:left; text-align:left; font-weight:bold">Member since:</span>
                                            <span style="float:left; padding-left:10px">{member_since}</span>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </div>

                    </td>
                    <td width="15%" >
                        <div class="block-data">
                            <div class="contain block1">
                                <div class="title">Pending Orders: </div>
                                <div class="result" style="color:#6A3D97">{pending_order}</div>
                            </div>
                            {redeen_voucher}
                            {pending_voucher}
                        </div>
                    </td>

                </tr>
            </table>
        </div>
        <div class="tabbed_area">
            <ul class="tabs" id="tabs">
                <li><a href="javascript:void(0)" name="content_1" class="tab_m active" ping="transparent" >Charts</a></li>
                <li><a href="javascript:void(0)" name="content_2" class="tab_m" ping="transparent" >Orders</a></li>
            </ul>
            <div id="content_1" class="content">
                <ul>
                    <li>
                        <!--<div style="width:100%; clear:both; overflow:hidden; float:left; margin-top:0px;">
                            <span style="float:left; clear:both; font-weight:bold; text-shadow:0px 1px 1px #999; height:30px;">1.&nbsp;&nbsp;Informations</span>
                            <table cellpadding="0" cellspacing="0" border="0" width="100%">
                                <tr>
                                    <td align="left" valign="middle" width="105px"><img src="../images/Dashboard_hinhgi.jpg" border="0" /></td>
                                    <td align="left" valign="top">
                                        <div style="clear:both; font-weight:bold;">{legal_business_name}</div>
                                        <div style="clear:both; padding-top:2px;">
                                            <span style="float:left; text-align:left; font-weight:bold">ID#:</span>
                                            <span style="float:left; padding-left:10px">{legal_business_id}</span>
                                        </div>
                                        <div style="clear:both; padding-top:2px">
                                            <span style="float:left; text-align:left; font-weight:bold">Address:</span>
                                            <span style="float:left; padding-left:10px">{Address}</span>
                                        </div>
                                        <div style="clear:both; padding-top:10px">
                                            <span style="float:left; text-align:left; font-weight:bold">Member since:</span>
                                            <span style="float:left; padding-left:10px">{member_since}</span>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </div>-->
                        <div style="clear:both; padding-top:20px; overflow:hidden; width:100%">
                            <div style="width:100%; clear:both; font-weight:bold; color:#6A3D97" align="center">Orders</div>
                            <div style="width:100%; clear:both">{orders_statitic}</div>
                        </div>
                        <div style="clear:both; border: 1px solid #D3D3D3; margin-top:20px;padding-bottom: 20px; position: relative">
                            <div class="title_asc" style="border-bottom: 1px solid #D3D3D3;font-weight:bold; text-shadow:0px 1px 1px #999;">&nbsp;&nbsp;Chart</div>
                            <div  style="width:21% ;overflow:hidden; padding-top:44px;float: left; position: relative">
                                <ul class="leftNav">
                                    <li>
                                        <strong>{pending}</strong>
                                        <small>Pending</small>
                                    <li>
                                        <strong>{settlement}</strong>
                                        <small>Settlement</small>
                                    </li>
                                    <li> 
                                        <strong>{total_paid}</strong>
                                        <small>Paid</small>
                                    </li>
                                    <li>
                                        <strong>{total_refund}</strong>
                                        <small>Refunded</small>
                                    </li> 
                                    <li> 
                                        <strong>{balance}</strong>
                                        <small>Balance</small>
                                    </li>
                                </ul>
                            </div>
                            <div style="width:78%; overflow:hidden; padding-top:15px;">
                            <!--<span style="float:left; clear:both; font-weight:bold; text-shadow:0px 1px 1px #999; height:30px;">2.&nbsp;&nbsp;Chart</span>-->
                            <div style="clear:both; overflow:hidden; width:100%">
                                <table cellpadding="0" cellspacing="0" border="0" width="100%">
                                    <tr>
                                            <td align="left" valign="middle" id="selected_by_value" width="150px">

                                        </td>
                                        <td align="center" valign="middle">
                                            <table cellpadding="0" cellspacing="0" border="0">
                                                <tr>
                                                    <td align="left" valign="middle">
                                                    	<div style="float:left; width:11px; height:11px; background:#09F; margin-top:2px;"></div>
                                                        <div style="float:left; padding-left:5px">Pending</div>
                                                        <div style="float:left; width:11px; height:11px; background:#6F13CC; margin-top:2px; margin-left:20px"></div>
                                                        <div style="float:left; padding-left:5px">Settlement</div>
                                                        <div style="float:left; width:11px; height:11px; background:#00A651; margin-top:2px; margin-left:20px"></div>
                                                        <div style="float:left; padding-left:5px">Paid</div>
                                                        <div style="float:left; width:11px; height:11px; background:#FF0000; margin-top:2px; margin-left:20px"></div>
                                                        <div style="float:left; padding-left:5px">Refunded</div>
                                                        <div style="float:left; width:11px; height:11px; background:#ad5a07; margin-top:2px; margin-left:20px"></div>
                                                        <div style="float:left; padding-left:5px">Balance</div>
                                                    </td>
                                                </tr>
                                            </table>
                                        </td>
                                        <td align="right" valign="middle" width="200px">
                                            <table cellpadding="0" cellspacing="0" border="0">
                                                <tr>
                                                    <td align="left" valign="middle" style="padding-right:10px"><b>Selected by:</b></td>
                                                    <td align="left" valign="middle">
                                                        <select id="selected_by" style="width:80px;" onchange="loadSelectBy()">
                                                            <option value="0" selected="selected">Month</option>
                                                            <option value="1">Year</option>
                                                        </select>
                                                    </td>
                                                </tr>
                                            </table>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                            <div style="width:100%; min-height:210px; clear:both; padding-top:5px" id="sales_chart" align="left"></div>
                        </div>
                        </div>
                    </li>
                </ul>
            </div>
            <div id="content_2" class ="content" >
                <ul>
                    <li>
                        <div style="clear:both; border: 1px solid #D3D3D3; margin-top:10px;padding-bottom: 20px;">
                        <div class="title_asc" style="border-bottom: 1px solid #D3D3D3;font-weight:bold; text-shadow:0px 1px 1px #999;">&nbsp;&nbsp;Orders</div>
                        <div style="clear:both; width:100%; overflow:hidden; padding-top:25px">
                           <!-- <span style="float:left; clear:both; font-weight:bold; text-shadow:0px 1px 1px #999; height:30px;">&nbsp;&nbsp;Orders</span>-->
                            <div style="clear:both; overflow:hidden; width:100%">
                                <form method="post" name="form_filter" onsubmit="return loadOrders()">
                                    <!--<span style="float:left; padding-left:5px">
                                        <select id="status_order" style="color:#AEAEAE">
                                            <option value="" style="color:#AEAEAE">Order Status</option>
                                            {order_status}
                                        </select>
                                    </span>-->
                                    <span style="float:left; padding-left:5px">
                                        {months}
                                    </span>
                                    <span style="float:left; padding-left:5px">
                                        {years}
                                    </span>
                                    <span style="float:left; padding-left:5px">
                                        <select id="status_paid" style="color:#AEAEAE">
                                            <option value="" style="color:#AEAEAE">Payment status</option>
                                            <option value="1">Paid</option>
                                            <option value="0">Unpaid</option>
                                        </select>
                                    </span>
                                    <span style="float:left; padding-left:5px"><input type="submit" class="btn" value="Filter" /></span>
                                </form>
                            </div>
                            <div style="padding: 10px; clear:both" align="right" id="pager"></div>
                            <div style="width:100%; clear:both; padding-top:10px" id="order_listing" align="left">

                            </div>
                        </div>
                        </div>
                    </li>
                </ul>
            </div>

        </div>
    </div>
</div>
<input type="hidden" id="akey" name="akey" value="{key}" />
<script type="text/javascript">
    var dataCharts = [];
    var arr_years = [];
    var year_selected = 0;
    var data_order = [];
    function loadOrders(){
        data_order = [];
        ShowLoadingObj({obj:document.getElementById("content_load"), image:"Loader-FloGradient16x16x.gif"});
        $.post("index.php/report/manufacturer/details", {
            loadOrders:'yes',
            akey:document.getElementById("akey").value,
            //status_order:document.getElementById("status_order").value,
            month:document.getElementById("month").value,
            year:document.getElementById("years").value,
            status_paid:document.getElementById("status_paid").value,
            page:1
        },function(data){
            HideLoadingObj(document.getElementById("content_load"));
            var maxlength = 0;
            if(typeof(data) == 'object'){
                data_order = data.data;
                //console.log(data_order);
            }
            
            //var maxlength = data.maxlength;
            //var page = data.page;
            //loadOrderList(page,maxlength);//page,maxlength
            loadOrderList();
        }, "json");
        return false;
    }
    function Export_to_Excel(){
        calculate_export()
        $.post("index.php/report/manufacturer/exportDetail/"+document.getElementById("akey").value,{
            type:'xls',
            year:year_selected,
            month_report:month_report,
            year_report:year_report,
            data_order:data_order
        },function(data){
            if(data.error == 'error'){
                alert(data.error);
            }else{
                window.open("index.php/download/get_file/Manufacturer_Report.xls");
            }
        },"json");
        return false;	
    }
    var month_report = [];
    var year_report = [];
    function calculate_export(){
        month_report = [];
        year_report = [];
        for(var i = 1; i < 13; i++){
            var obj = new Object();
            obj.year = year_selected;
            obj.month = i;
            obj.YTD_earnings = 0;
            obj.paid = 0;
            obj.balance = 0;
            obj.refund = 0;
            obj.pending_amount = 0;
            month_report[month_report.length] = obj;	
        }
        for(var i = 0; i < month_report.length; i++){
            if(month_report[i].year > year_current) continue;
            else if(month_report[i].year == year_current){
                if(month_report[i].month > month_current) continue;	
            }
            var total_earning = 0;
            var total_paid = 0;
            var Balance = 0;
            var total_pending = 0;
            for(var j = 0; j < dataCharts.length; j++){
                if(dataCharts[j].year < month_report[i].year){
                    total_earning += dataCharts[j].YTD_earnings;
                    total_paid += dataCharts[j].paid;
                    total_pending += dataCharts[j].pending_amount;
                }else if(dataCharts[j].year == month_report[i].year && dataCharts[j].month <= month_report[i].month){
                    total_earning += dataCharts[j].YTD_earnings;
                    total_paid += dataCharts[j].paid;
                    total_pending += dataCharts[j].pending_amount;
                }
                if(dataCharts[j].year == month_report[i].year && dataCharts[j].month == month_report[i].month){
                    month_report[i].YTD_earnings += dataCharts[j].YTD_earnings;
                    month_report[i].paid += dataCharts[j].paid;
                    month_report[i].refund += dataCharts[j].refund;
                    month_report[i].pending_amount += dataCharts[j].pending_amount;
                    
                    if(dataCharts[j].YTD_earnings < dataCharts[j].paid){
                        dataCharts[j].YTD_earnings = dataCharts[j].paid;
                    }else{
                        Balance += dataCharts[j].YTD_earnings - dataCharts[j].paid;
                    }
                    
                    //Balance += dataCharts[j].YTD_earnings - dataCharts[j].paid;
                    if(Balance < 0) Balance = 0;
                    month_report[i].balance = Balance;
                }
            }
        }
        for(var i = year_selected-11; i < year_selected+1; i++){
            var obj = new Object();
            obj.year = i;
            obj.YTD_earnings = 0;
            obj.paid = 0;
            obj.balance = 0;
            obj.refund = 0;
            obj.pending_amount = 0;
            year_report[year_report.length] = obj;	
        }
        for(var i = 0; i < year_report.length; i++){
            if(year_report[i].year > year_current) continue;
            var total_earning = 0;
            var total_paid = 0;
            var Balance = 0;
            var total_pending = 0;
            for(var j = 0; j < dataCharts.length; j++){
                if(dataCharts[j].year <= year_report[i].year){
                    total_earning += dataCharts[j].YTD_earnings;
                    total_paid += dataCharts[j].paid;
                    total_pending += dataCharts[j].pending_amount;
                }
                if(dataCharts[j].year == year_report[i].year){
                    year_report[i].YTD_earnings += dataCharts[j].YTD_earnings;
                    year_report[i].paid += dataCharts[j].paid;
                    year_report[i].refund += dataCharts[j].refund;
                    year_report[i].pending_amount += dataCharts[j].pending_amount;
                    
                    if(dataCharts[j].YTD_earnings < dataCharts[j].paid){
                        dataCharts[j].YTD_earnings = dataCharts[j].paid;
                    }else{
                        Balance += dataCharts[j].YTD_earnings - dataCharts[j].paid;
                    }
                    //Balance += dataCharts[j].YTD_earnings - dataCharts[j].paid;
                    if(Balance < 0) Balance = 0;
                    year_report[i].balance = Balance;
                }
            }
        }	
    }
    var pager_number = 1;
    function loadOrderList(page){
        if(page == 0 || page == null) page = pager_number;
        if(page == 0) page = 1;
        pager_number = page;
        var total_row = 20;
        var str_content = '';
        var min_index = 0;
        var max_index = 0;	
        var length_data = data_order.length;
        str_content += '<table class="v3" style="width: 98%;margin-left:1%; margin-right:1%;">';
        str_content += '	<thead>';
        str_content += '		<tr>';
        str_content += '			<th align="left" valign="middle" class="th-per">Order #</th>';
        str_content += '			<th align="left" valign="middle" class="th-per">Billing</th>';
        str_content += '			<th align="left" valign="middle" class="th-per">Date</th>';
        str_content += '			<th align="left" valign="middle" class="th-per">Status</th>';
        str_content += '			<th align="right" valign="middle" class="th-per">Subtotal</th>';
        str_content += '			<th align="right" valign="middle" class="th-per">Shipping</th>';
        str_content += '			<th align="right" valign="middle" class="th-per">Tax</th>';
        str_content += '			<th align="right" valign="middle" class="th-per">Refund</th>';
        str_content += '			<th align="right" valign="middle" class="th-per">Pending</th>';
        str_content += '			<th align="right" valign="middle" class="th-per">Settlement</th>';
        str_content += '			<th align="right" valign="middle" class="th-per">Paid</th>';
        str_content += '			<th align="right" valign="middle" class="th-per">Balance</th>';
        str_content += '			<th align="left" valign="middle" class="th-per">&nbsp;</th>';
        str_content += '		</tr>';
        str_content += '	</thead>';
        if(length_data > 0){
            var num = page*total_row;
            min_index = num - total_row;
            max_index = num;		
            if(length_data < num) max_index = length_data;
            str_content += '	<tbody>';
            // for(var i = 0; i < length_data; i++){
            for(var i = min_index; i < max_index; i++){
                var obj = data_order[i];
                var balance = obj.order_total - obj.paid;
                var balance_show = '';
                if(balance < 0) balance_show = '-$' + formatAsMoney(balance * (-1));
                else balance_show = '$' + formatAsMoney(balance);
                var pay_bt = '';
                if(obj.pay == 'yes'){
  
                    if(obj.pending != 0 && balance == 0){
                        pay_bt = '';
                    }else if(balance > 0){ 
                        pay_bt = '<a id="payment_form_'+i+'" href="'+url_server__+'report/manufacturer/payment/'+document.getElementById("akey").value+'/'+obj.year+'/'+obj.month+'/'+obj.okey+'" class="payment_form" ">Payment</a>';
                    }else{
                         pay_bt = 'Paid';
                    }
                }else{
                    pay_bt = 'paid';
                    if(balance > 0){
                        pay_bt = 'Unpaid';	
                    }
                }
		
                str_content += '		<tr class="tr-row">';
                str_content += '			<td align="left" valign="middle" class="td-row">'+obj.okey+'</td>';
                str_content += '			<td align="left" valign="middle" class="td-row">'+obj.billing_name+'</td>';
                str_content += '			<td align="left" valign="middle" class="td-row">'+obj.order_date_format+'</td>';
                str_content += '			<td align="left" valign="middle" class="td-row"><span id="'+obj.okey+'">'+obj.status_format+'</span></td>';
                str_content += '			<td align="right" valign="middle" class="td-row">$'+formatAsMoney(obj.subtotal)+'</td>';
                str_content += '			<td align="right" valign="middle" class="td-row">$'+formatAsMoney(obj.shipping_fee)+'</td>';
                str_content += '			<td align="right" valign="middle" class="td-row">$'+formatAsMoney(obj.tax)+'</td>';
                str_content += '			<td align="right" valign="middle" class="td-row" style="color:#6F13CC"><span style="color:#FF0000">$('+formatAsMoney(obj.refund)+')</span></td>';
                str_content += '			<td align="right" valign="middle" class="td-row" style="color:#09F">$'+formatAsMoney(obj.pending)+'</td>';
                str_content += '			<td align="right" valign="middle" class="td-row" style="color:#6F13CC">$'+formatAsMoney(obj.order_total)+'</td>';
                str_content += '			<td align="right" valign="middle" class="td-row" style="color:#00A651">$'+formatAsMoney(obj.paid)+'</td>';
                str_content += '			<td align="right" valign="middle" class="td-row" style="color:#ad5a07" id="balance'+obj.okey+'">'+balance_show+'</td>';
                str_content += '			<td align="right" valign="middle" class="td-row">'+pay_bt+'</td>';
                str_content += '		</tr>';
            }
            //}
            str_content += '	</tbody>';		
        }
        str_content += '</table>';
        pager_new(total_row,data_order, page, 'loadOrderList', ['pager']);
        $("#order_listing").empty().append(str_content);
        $(".payment_form").colorbox({
            initialWidth:70,
            initialHeight:50,		
            height:false,
            opacity:0.2,
            scrolling: false
            /*onComplete:function(){	
                        $("#orders_payment").jScrollPane({showArrows:false, verticalGutter:0});
                }*/
        });
    }
    
    function returnURL(page){
        if(page == null || page == 0) page = 1;
        var url = 'index.php/report/manufacturer/details/'+document.getElementById('akey').value+'/'+page;
        return url;
    }
    function pageObject(page){
        window.location = returnURL(page);
        return false;
    }
   
    function loadDataChart(){
        arr_data_chart = [];
        arr_years = [];
        ShowLoadingObj({obj:document.getElementById("content_load"), image:"Loader-FloGradient16x16x.gif"});
        $.post("index.php/report/manufacturer/details", {
            loadDataChart:'yes',
            akey:document.getElementById("akey").value
        },function(data){
            HideLoadingObj(document.getElementById("content_load"));
            if(typeof(data) == 'object'){
                arr_years = data.objYear;
                dataCharts = data.chart;
                //console.log(dataCharts);
            }
            loadSelectBy();
        }, "json");
        return false;
    }
    function loadSelectBy(){
        var str = '';
        if(year_selected == 0){
            if(arr_years.length > 0) year_selected = arr_years[arr_years.length-1];
        }
        var select_by_value = parseInt(document.getElementById("selected_by").value, 10);
        if(year_selected > 0){
            loadSelectedByValue(select_by_value);
            LoadSalesChart(select_by_value);	
        }
    }
    function nextYear(){
        year_selected += 1;
        loadSelectBy();
    }
    function previousYear(){
        year_selected -= 1;
        loadSelectBy();
    }
    function loadSelectedByValue(select_by_value){  
        var str = '';
        if(year_selected > 0){
            if(select_by_value == 0){
                var arrow_left = '<img src="../images/arrow-left.png" border="0" />';
                var arrow_right = '<img src="../images/arrow-right.png" border="0" />';
                if(arr_years.length > 0){
                    if(year_selected > arr_years[0]) arrow_left = '<img src="../images/arrow-left.png" border="0" style="cursor:pointer" onclick="previousYear()" />';
                    if(year_selected < arr_years[arr_years.length-1]) arrow_right = '<img src="../images/arrow-right.png" border="0" style="cursor:pointer" onclick="nextYear()" />';
                }
                str += '<table cellpadding="0" cellspacing="0" border="0">';
                str += '<tr>';
                str += '<td align="left" valign="middle" style="font-weight:bold; padding-right:12px">Year '+year_selected+'</td>';			
                str += '<td align="left" valign="middle" style="padding-right:4px">'+arrow_left+'</td>';
                str += '<td align="left" valign="middle">'+arrow_right+'</td>';
                str += '</tr>';
                str += '</table>';	
            }else if(select_by_value == 1){
                var arrow_left = '<img src="../images/arrow-left.png" border="0" />';
                var arrow_right = '<img src="../images/arrow-right.png" border="0" />';
                if(arr_years.length > 0){
                    if(year_selected-11 > arr_years[0]) arrow_left = '<img src="../images/arrow-left.png" border="0" style="cursor:pointer" onclick="previousYear()" />';
                    if(year_selected < arr_years[arr_years.length-1]) arrow_right = '<img src="../images/arrow-right.png" border="0" style="cursor:pointer" onclick="nextYear()" />';
                }
                str += '<table cellpadding="0" cellspacing="0" border="0">';
                str += '<tr>';
                str += '<td align="left" valign="middle" style="font-weight:bold;padding-right:3px ">From '+(year_selected-11)+' To '+year_selected+'</td>';  //padding-right:12px
                str += '<td align="left" valign="middle" style="padding-right:4px">'+arrow_left+'</td>';
                str += '<td align="left" valign="middle">'+arrow_right+'</td>';
                str += '</tr>';
                str += '</table>';		
            }		
        }
        $("#selected_by_value").empty().append(str);
    }

    {load_month_current}
    {load_year_current}

    function LoadSalesChart(select_by_value){
        var month_name = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
        var arr_data_chart = [];
        var manu_key = document.getElementById("akey").value;
        if(select_by_value == 0){
            for(var i = 1; i < 13; i++){
                var obj = new Object();
                obj.year = year_selected;
                obj.month = i;
                obj.YTD_earnings = 0;
                obj.paid = 0;
                obj.balance = 0;
                obj.refund = 0;
				obj.pending_amount = 0;
                arr_data_chart[arr_data_chart.length] = obj;	
            }
            for(var i = 0; i < arr_data_chart.length; i++){
                if(arr_data_chart[i].year > year_current) continue;
                else if(arr_data_chart[i].year == year_current){
                    if(arr_data_chart[i].month > month_current) continue;	
                }
                var total_earning = 0;
                var total_paid = 0;
                var Balance = 0;
				var total_pending_amount = 0;
                for(var j = 0; j < dataCharts.length; j++){
                    if(dataCharts[j].year < arr_data_chart[i].year){
                        total_earning += dataCharts[j].YTD_earnings;
                        total_paid += dataCharts[j].paid;
						total_pending_amount += dataCharts[j].pending_amount;
                    }else if(dataCharts[j].year == arr_data_chart[i].year && dataCharts[j].month <= arr_data_chart[i].month){
                        total_earning += dataCharts[j].YTD_earnings;
                        total_paid += dataCharts[j].paid;
						total_pending_amount += dataCharts[j].pending_amount;
                    }
                    if(dataCharts[j].year == arr_data_chart[i].year && dataCharts[j].month == arr_data_chart[i].month){
                        arr_data_chart[i].YTD_earnings += dataCharts[j].YTD_earnings;
                        arr_data_chart[i].paid += dataCharts[j].paid;
                        arr_data_chart[i].refund += dataCharts[j].refund;
						arr_data_chart[i].pending_amount += dataCharts[j].pending_amount;
                        
                        if(dataCharts[j].YTD_earnings < dataCharts[j].paid ){
                            dataCharts[j].YTD_earnings = dataCharts[j].paid
                        }else{
                            Balance += dataCharts[j].YTD_earnings - dataCharts[j].paid;
                        }
                        //Balance += dataCharts[j].YTD_earnings - dataCharts[j].paid;
                        if(Balance < 0) Balance = 0;
                        arr_data_chart[i].balance = Balance;
                    }
                }
            }
        }else{
            for(var i = year_selected-11; i < year_selected+1; i++){
                var obj = new Object();
                obj.year = i;
                obj.YTD_earnings = 0;
                obj.paid = 0;
                obj.balance = 0;
                obj.refund = 0;
				obj.pending_amount = 0;
                arr_data_chart[arr_data_chart.length] = obj;	
            }
            for(var i = 0; i < arr_data_chart.length; i++){
                if(arr_data_chart[i].year > year_current) continue;
                var total_earning = 0;
                var total_paid = 0;
                var Balance = 0;
				var total_pending_amount = 0;
                for(var j = 0; j < dataCharts.length; j++){
                    if(dataCharts[j].year <= arr_data_chart[i].year){
                        total_earning += dataCharts[j].YTD_earnings;
                        total_paid += dataCharts[j].paid;	
						total_pending_amount += dataCharts[j].pending_amount;
                    }
                    if(dataCharts[j].year == arr_data_chart[i].year){
                        arr_data_chart[i].YTD_earnings += dataCharts[j].YTD_earnings;
                        arr_data_chart[i].paid += dataCharts[j].paid;
                        arr_data_chart[i].refund += dataCharts[j].refund;
						arr_data_chart[i].pending_amount += dataCharts[j].pending_amount;
                        
                        if(dataCharts[j].YTD_earnings < dataCharts[j].paid ){
                            dataCharts[j].YTD_earnings =  dataCharts[j].paid;
                        }else{
                            Balance += dataCharts[j].YTD_earnings - dataCharts[j].paid;
                        }
                        if(Balance < 0) Balance = 0;
                        arr_data_chart[i].balance = Balance;
                    }
                }
            }	
        }
        var str = '';
        if(arr_data_chart.length > 0){
		
            str += '<table cellpadding="0" cellspacing="0" border="0"  width="100%" class="table-per manu" style="border:1px solid #D3D3D3">';
            if(select_by_value == 0){
                str += '<thead><tr><td align="left" class="td-row" width="76px" style="border-right:1px solid #D3D3D3;">&nbsp;</td>';
                for(var i = 0; i < 6; i++){
                    if(arr_data_chart[i].month == month_current){
                        str += '<td width="76px"  align="center" class="td-row" valign="middle" style="border-right:1px solid #D3D3D3; color:#FFAF0F; font-weight:bold">'+month_name[i]+'</td>';		
                    }else{
                        str += '<td width="76px"  align="center" class="td-row" valign="middle" style="border-right:1px solid #D3D3D3; font-weight:bold">'+month_name[i]+'</td>';	
                    }	
                }
                str += '</tr></thead>';
			
                var YTD_earnings_col = '';
                var paid_col = '';
                var balance_col = '';
                var refund_col = '';
				var pending_amount_col = '';
                for(var i = 0; i < 6; i++){
                    var pay_btn = '';
                    {if('permiss' == 'ok');}
 					
					pending_amount_col += '<td align="center" class="td-row" style="border-bottom:1px solid #EDEDED; color:#09F;">$'+formatAsMoney(arr_data_chart[i].pending_amount, 2)+'</td>';
                    YTD_earnings_col += '<td align="center" class="td-row" style="border-bottom:1px solid #EDEDED; color:#6F13CC;">$'+formatAsMoney(arr_data_chart[i].YTD_earnings, 2)+'</td>';
                    paid_col += '<td align="center" class="td-row" style="border-bottom:1px solid #EDEDED;color:#00a651;">$'+formatAsMoney(arr_data_chart[i].paid, 2)+'</td>';
                    balance_col += '<td align="center" class="td-row" style="border-bottom:1px solid #EDEDED;color:#ad5a07;">$'+formatAsMoney(arr_data_chart[i].balance, 2)+'&nbsp;'+pay_btn+'</td>';
                    refund_col += '<td align="center" class="td-row" style="border-bottom:1px solid #EDEDED;color:#FF0000;">$'+formatAsMoney(arr_data_chart[i].refund, 2)+'</td>';
                }
				str += '<tr><td class="td-row" align="left" style="color:#09F;border-bottom:1px solid #EDEDED;font-weight:bold">Pending</td>' + pending_amount_col + '</tr>';
                str += '<tr><td class="td-row" align="left" style="color:#6F13CC;border-bottom:1px solid #EDEDED;font-weight:bold">Settlement</td>' + YTD_earnings_col + '</tr>';
                str += '<tr><td class="td-row" align="left" style="color:#00a651;border-bottom:1px solid #EDEDED;font-weight:bold">Paid</td>' + paid_col + '</tr>';
                str += '<tr><td class="td-row" align="left" style="color:#FF0000;border-bottom:1px solid #EDEDED;font-weight:bold">Refunded</td>' + refund_col + '</tr>';
                str += '<tr><td class="td-row" align="left" style="color:#ad5a07;border-bottom:1px solid #EDEDED;font-weight:bold">Balance</td>' + balance_col + '</tr>';
			
                str += '<thead><tr><td align="left" class="td-row" style="border-right:1px solid #D3D3D3; background-color:#CD87FF; color:#6F13CC;">&nbsp;</td>';
                for(var i = 6; i < 12; i++){
                    if(arr_data_chart[i].month == month_current){
                        str += '<td width="76px"  align="center" class="td-row" valign="middle" style="border-right:1px solid #D3D3D3; color:#FFAF0F; font-weight:bold">'+month_name[i]+'</td>';	
                    }else{
                        str += '<td width="76px"  align="center" class="td-row" valign="middle" style="border-right:1px solid #D3D3D3; font-weight:bold">'+month_name[i]+'</td>';	
                    }	
                }
                str += '</tr></thead>';
			
                var YTD_earnings_col = '';
                var paid_col = '';
                var balance_col = '';
                var refund_col = '';
				var pending_amount_col = '';
                for(var i = 6; i < 12; i++){
                    var pay_btn = '';
                    {if('permiss' == 'ok');}
					pending_amount_col += '<td align="center" class="td-row" style="border-bottom:1px solid #EDEDED; color:#09F;">$'+formatAsMoney(arr_data_chart[i].pending_amount, 2)+'</td>';
                    YTD_earnings_col += '<td align="center" class="td-row" style="color:#6F13CC;border-bottom:1px solid #EDEDED;">$'+formatAsMoney(arr_data_chart[i].YTD_earnings, 2)+'</td>';
                    paid_col += '<td align="center" class="td-row" style="color:#00a651;border-bottom:1px solid #EDEDED;">$'+formatAsMoney(arr_data_chart[i].paid, 2)+'</td>';
                    balance_col += '<td align="center" class="td-row" style="color:#ad5a07;border-bottom:1px solid #EDEDED;">$'+formatAsMoney(arr_data_chart[i].balance, 2)+'&nbsp;'+pay_btn+'</td>';
                    refund_col += '<td align="center" class="td-row" style="border-bottom:1px solid #EDEDED;color:#FF0000;">$'+formatAsMoney(arr_data_chart[i].refund, 2)+'</td>';
                }
				str += '<tr><td class="td-row" align="left" style="color:#09F;border-bottom:1px solid #EDEDED;font-weight:bold">Pending</td>' + pending_amount_col + '</tr>';
                str += '<tr><td class="td-row" align="left" style="color:#6F13CC;border-bottom:1px solid #EDEDED; font-weight:bold">Settlement</td>' + YTD_earnings_col + '</tr>';
                str += '<tr><td class="td-row" align="left" style="color:#00a651;border-bottom:1px solid #EDEDED;font-weight:bold">Paid</td>' + paid_col + '</tr>';
                str += '<tr><td class="td-row" align="left" style="color:#FF0000;border-bottom:1px solid #EDEDED;font-weight:bold">Refunded</td>' + refund_col + '</tr>';
                str += '<tr><td class="td-row" align="left" style="color:#ad5a07;border-bottom:1px solid #EDEDED;font-weight:bold">Balance</td>' + balance_col + '</tr>';
			
            }else if(select_by_value == 1){
                str += '<thead><tr><td align="left" width="76px" class="td-row" style="border-right:1px solid #D3D3D3; background-color:#CD87FF; color:#6F13CC;">&nbsp;</td>';
                for(var i = 0; i < 6; i++){
                    if(arr_data_chart[i].year == year_current){
                        str += '<td width="76px"  align="center" class="td-row" valign="middle" style="border-right:1px solid #D3D3D3; color:#FFAF0F; font-weight:bold">'+arr_data_chart[i].year+'</td>';	
                    }else{
                        str += '<td width="76px"  align="center" class="td-row" valign="middle" style="border-right:1px solid #D3D3D3; font-weight:bold">'+arr_data_chart[i].year+'</td>';	
                    }	
                }
                str += '</tr></thead>';	
                var YTD_earnings_col = '';
                var paid_col = '';
                var balance_col = '';
                var refund_col = '';
				var pending_amount_col = '';
                for(var i = 0; i < 6; i++){
					pending_amount_col += '<td align="center" class="td-row" style="border-bottom:1px solid #EDEDED; color:#09F;">$'+formatAsMoney(arr_data_chart[i].pending_amount, 2)+'</td>';
                    YTD_earnings_col += '<td align="center" style="color:#6F13CC;border-bottom:1px solid #EDEDED;">$'+formatAsMoney(arr_data_chart[i].YTD_earnings, 2)+'</td>';
                    paid_col += '<td align="center" style="color:#00a651;border-bottom:1px solid #EDEDED;">$'+formatAsMoney(arr_data_chart[i].paid, 2)+'</td>';
                    balance_col += '<td align="center" style="color:#ad5a07;border-bottom:1px solid #EDEDED;">$'+formatAsMoney(arr_data_chart[i].balance, 2)+'</td>';
                    refund_col += '<td align="center" class="td-row" style="border-bottom:1px solid #EDEDED;color:#FF0000;">$'+formatAsMoney(arr_data_chart[i].refund, 2)+'</td>';
                }
				str += '<tr><td class="td-row" align="left" style="color:#09F;border-bottom:1px solid #EDEDED;font-weight:bold">Pending</td>' + pending_amount_col + '</tr>';
                str += '<tr><td class="td-row" align="left" style="color:#6F13CC;border-bottom:1px solid #EDEDED; font-weight:bold">Settlement</td>' + YTD_earnings_col + '</tr>';
                str += '<tr><td class="td-row" align="left" style="color:#00a651;border-bottom:1px solid #EDEDED;font-weight:bold">Paid</td>' + paid_col + '</tr>';
                str += '<tr><td class="td-row" align="left" style="color:#FF0000;border-bottom:1px solid #EDEDED;font-weight:bold">Refunded</td>' + refund_col + '</tr>';
                str += '<tr><td class="td-row" align="left" style="color:#ad5a07;border-bottom:1px solid #EDEDED;font-weight:bold">Balance</td>' + balance_col + '</tr>';
			
                str += '<thead><tr><td align="left" width="76px" class="td-row" style="border-right:1px solid #D3D3D3; background-color:#CD87FF; color:#6F13CC;">&nbsp;</td>';
                for(var i = 6; i < 12; i++){
                    if(arr_data_chart[i].year == year_current){
                        str += '<td width="76px"  align="center" class="td-row" valign="middle" style="border-right:1px solid #D3D3D3; color:#FFAF0F; font-weight:bold">'+arr_data_chart[i].year+'</td>';	
                    }else{
                        str += '<td width="76px"  align="center" class="td-row" valign="middle" style="border-right:1px solid #D3D3D3; font-weight:bold">'+arr_data_chart[i].year+'</td>';	
                    }	
                }
                str += '</tr></thead>';	
                var YTD_earnings_col = '';
                var paid_col = '';
                var balance_col = '';
                var refund_col = '';
				var pending_amount_col = '';
                for(var i = 6; i < 12; i++){
					pending_amount_col += '<td align="center" class="td-row" style="border-bottom:1px solid #EDEDED; color:#09F;">$'+formatAsMoney(arr_data_chart[i].pending_amount, 2)+'</td>';
                    YTD_earnings_col += '<td align="center" style="color:#6F13CC;border-bottom:1px solid #EDEDED;">$'+formatAsMoney(arr_data_chart[i].YTD_earnings, 2)+'</td>';
                    paid_col += '<td align="center" style="color:#00a651;border-bottom:1px solid #EDEDED;">$'+formatAsMoney(arr_data_chart[i].paid, 2)+'</td>';
                    refund_col += '<td align="center" class="td-row" style="border-bottom:1px solid #EDEDED;color:#FF0000;">$'+formatAsMoney(arr_data_chart[i].refund, 2)+'</td>';
                    balance_col += '<td align="center" style="color:#ad5a07;border-bottom:1px solid #EDEDED;">$'+formatAsMoney(arr_data_chart[i].balance, 2)+'</td>';
                }
				str += '<tr><td class="td-row" align="left" style="color:#09F;border-bottom:1px solid #EDEDED;font-weight:bold">Pending</td>' + pending_amount_col + '</tr>';
                str += '<tr><td class="td-row" align="left" style="color:#6F13CC;border-bottom:1px solid #EDEDED; font-weight:bold">Settlement</td>' + YTD_earnings_col + '</tr>';
                str += '<tr><td class="td-row" align="left" style="color:#00a651;border-bottom:1px solid #EDEDED;font-weight:bold">Paid</td>' + paid_col + '</tr>';
                str += '<tr><td class="td-row" align="left" style="color:#FF0000;border-bottom:1px solid #EDEDED;font-weight:bold">Refunded</td>' + refund_col + '</tr>';
                str += '<tr><td class="td-row" align="left" style="color:#ad5a07;border-bottom:1px solid #EDEDED;font-weight:bold">Balance</td>' + balance_col + '</tr>';
            }		
            str += '</table>';
        }	
        $("#sales_chart").empty().append(str);
        $(".cboxElement").colorbox({
            initialWidth:70,
            initialHeight:50,		
            height:false,
            opacity:0.2,
            scrolling: false
            /*onComplete:function(){	
                        $("#orders_payment").jScrollPane({showArrows:false, verticalGutter:0});
                }*/
        });
    }
    
    function toggleTag(){  
        $("a.tab_m").click(function(cid) {
            cid = $(this).attr("name");
            expandcontent(cid,this);
            $(this).closest('li').siblings().children('a').removeAttr('style');
             $(this).closest('ul').siblings().children('#content_1').removeAttr('style');
        });  
    }
                           
    var initialtab=[1, "content_1"];
    var tabsourceindex= 0;
    var previoustab="";
    var enablepersistence=true 
    var persisttype="local" ;
    var tabobjlinks="";
  
    function cascadedstyle(el, cssproperty, csspropertyNS){
        if (el.currentStyle)
            return el.currentStyle[cssproperty]
        else if (window.getComputedStyle){
            var elstyle=window.getComputedStyle(el, "")
            return elstyle.getPropertyValue(csspropertyNS)
        }
    }


    function highlighttab(aobject){
        if (typeof tabobjlinks=="undefined")
            highlighttab(aobject);
        collecttablinks();
        for (i=0; i<tabobjlinks.length; i++)
            tabobjlinks[i].style.backgroundColor=initTabcolor;
        var themecolor=aobject.getAttribute("ping")? aobject.getAttribute("ping") : initTabpostcolor;
        aobject.style.backgroundColor =themecolor;
        aobject.style.borderBottom = "1px solid #fff";
    }
  
    function expandcontent(cid, aobject){
        if (document.getElementById){
            highlighttab(aobject);
            detectSourceindex(aobject);
            if (previoustab!="")
            //document.getElementById(previoustab).style.display="none";
            // document.getElementById(cid).style.display="block";
                $('#'+previoustab).fadeOut();
            $('#'+cid).fadeIn();
            previoustab=cid;
            return false
        }
        else
            return true
    }

    function collecttablinks(){
        var tabobj=document.getElementById("tabs");
        tabobjlinks=tabobj.getElementsByTagName("A");
    }

    function detectSourceindex(aobject){
        for (var i=0; i<tabobjlinks.length; i++){
            if (aobject==tabobjlinks[i]){
                tabsourceindex=i ;
                break;
            }
        }
    }

    function do_onload(){
        var cookiename=(typeof persisttype!="undefined" && persisttype=="sitewide")? "content" : window.location.pathname;
        var cookiecheck=window.get_cookie && get_cookie(cookiename).indexOf("|")!=-1;
        collecttablinks();
        initTabcolor=cascadedstyle(tabobjlinks[1], "backgroundColor", "background-color");
        initTabpostcolor=cascadedstyle(tabobjlinks[0], "backgroundColor", "background-color");
        if (typeof enablepersistence!="undefined" && enablepersistence && cookiecheck){
            var cookieparse=get_cookie(cookiename).split("|");

            var whichtab=cookieparse[0];
            var tabcontentid=cookieparse[1];
            expandcontent(tabcontentid, tabobjlinks[whichtab]);
        }
        else
            expandcontent(initialtab[1], tabobjlinks[initialtab[0]-1]);
    }

    function get_cookie(Name) { 
        var search = Name + "="
        var returnvalue = "";
        if (document.cookie.length > 0) {
            offset = document.cookie.indexOf(search);
            if (offset != -1) { 
                offset += search.length;
                end = document.cookie.indexOf(";", offset);
                if (end == -1) end = document.cookie.length;
                returnvalue=unescape(document.cookie.substring(offset, end));

            }
        }
        return returnvalue;
    }

    function savetabstate(){
        var cookiename=(persisttype=="sitewide")? "content" : window.location.pathname;
        var cookievalue=(persisttype=="sitewide")? tabsourceindex+"|"+previoustab+";path=/" : tabsourceindex+"|"+previoustab;
        document.cookie=cookiename+"="+cookievalue;
    }

    window.onunload=savetabstate;
   
   
   
   function selectRow(){
        $("ul.leftNav li").hover(function(){
            var text = $(this).text();
            if(text.indexOf("Pending") != -1){
                $(".manu tr:nth-child(1)").css('background','#d3d3d3');
            }else if(text.indexOf("Settlement") != -1){
                $(".manu tr:nth-child(2)").css('background','#d3d3d3');
            }else if(text.indexOf("Paid") != -1){
                $(".manu tr:nth-child(3)").css('background','#d3d3d3');
            }else if(text.indexOf("Refunded") != -1){
                $(".manu tr:nth-child(4)").css('background','#d3d3d3');
            }else if(text.indexOf("Balance") != -1){
                $(".manu tr:nth-child(5)").css('background','#d3d3d3');
            }
        },function(){
            $(".manu tr:nth-child(1)").css('background','');
            $(".manu tr:nth-child(2)").css('background','');
            $(".manu tr:nth-child(3)").css('background','');
            $(".manu tr:nth-child(4)").css('background','');
            $(".manu tr:nth-child(5)").css('background','');
           
        });
    }
   
  
    $(document).ready(function(){
		
        loadDataChart();
        loadOrders();
        do_onload();
        toggleTag();
        selectRow();
    });
  
</script>